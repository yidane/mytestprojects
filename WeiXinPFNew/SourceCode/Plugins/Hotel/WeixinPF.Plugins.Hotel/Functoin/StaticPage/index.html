<!DOCTYPE html>
<html lang="en" xmlns:v-on="http://www.w3.org/1999/xhtml" xmlns:v-validate="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>在线预订</title>
    <meta name="viewport"
          content="width=device-width,height=device-height,inital-scale=1.0,maximum-scale=1.0,user-scalable=no;">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no">
    <link rel="stylesheet" href="//g.alicdn.com/msui/sm/0.5.8/css/sm.min.css">
    <!--<link href="../../Common/CSS/weui/weui.min.css" rel="stylesheet"/>-->
    <link href="../../Common/web_component/swiper/swiper.min.css" rel="stylesheet"/>


    <!--<link href="CSS/hotels.css" rel="stylesheet"/>-->
    <style>
        .fade-transition {
            transition: opacity .3s ease;
        }

        .fade-enter, .fade-leave {
            opacity: 0;
        }


    </style>
</head>
<!-- index.html -->
<body>
<div id="div_app" class="content-padded">


    <app-header :header-title="headerTitle"></app-header>

    <app-image :view-images="imgDatas"></app-image>

    <component   :is="currentView" keep-alive transition="fade"
               transition-mode="out-in" :wid="wid" :openid="openid">
        <!-- 组件在 vm.currentview 变化时改变 -->
    </component>
    <app-footer :current-view="currentView"></app-footer>
</div>


<!-- 子组件模板 -->
<template id="app-header-template">
    <!--<div class="menu_header">-->
        <!--<div class="menu_topbar">-->
            <!--<strong class="head-title">{{headerTitle}}</strong>-->
            <!--<span class="head_btn_left"><a href="javascript:history.go(-1);"><span>返回</span></a><b></b></span>-->
            <!--<a class="head_btn_right" href="http://www.cloudorg.com.cn/weixin/map/poilist.html?type=hotel&wid=1">-->
                <!--<span><i class="menu_header_home"></i></span><b></b>-->
            <!--</a>-->
        <!--</div>-->
    <!--</div>-->

    <header class="bar bar-nav">
        <a class="button button-link button-nav pull-left" href="javascript:history.go(-1);">
            <span class="icon icon-left"></span>
            返回
        </a>
        <a class="button button-link button-nav pull-right" href="http://www.cloudorg.com.cn/weixin/map/poilist.html?type=hotel&wid=1">
            <span class="icon icon-home"></span>
        </a>
        <h1 class="title">{{headerTitle}}</h1>
    </header>
</template>

<template id="app-footer-template">


    <div class="footermenu">

        <ul>
            <li>
                <a id="about" href="#about"
                   :class="{ active: msg=='view-about' }"
                   v-on:click="notify('view-about')"
                   v-link="{ path: '/about' }"

                        >
                    <img src="images/xxyX63YryG.png">

                    <p>关于</p>
                </a>
            </li>
            <li>
                <a id="choice" href="#room"
                   :class="{ active: msg=='view-room' }"
                   v-on:click="notify('view-room')" v-link="{ path: '/room' }"
                        >
                    <img src="images/3YQLfzfunJ.png">

                    <p>房型选择</p>
                </a>
            </li>
            <li>
                <a id="myOrder" href="#order"
                   :class="{ active: msg=='view-order' }"
                   v-on:click="notify('view-order')" v-link="{ path: '/order' }"
                        >
                    <span class="num">0</span> <img src="images/s22KaR0Wtc.png">

                    <p>订单</p>
                </a>
            </li>
        </ul>
    </div>


    <nav class="bar bar-tab">
        <a class="tab-item external" href="#">
            <span class="icon icon-cart"></span>
            <span class="tab-label">关于</span>
        </a>
        <a class="tab-item external active" href="#">
            <span class="icon icon-home"></span>
            <span class="tab-label">房型选择</span>

        </a>
        <a class="tab-item external" href="#">
            <span class="icon icon-cart"></span>
            <span class="tab-label">订单</span>
            <span class="badge">0</span>
        </a>

    </nav>
</template>

<template id="view-about-template">
    <style>
        .jieshao {
            color: #444444;
            font-family: 'Microsoft YaHei', Helvitica, Verdana, Arial, san-serif;
            font-size: 14px;
            font-weight: bold;
            line-height: 21px;
            background-color: #FCFCFC;
        }
    </style>

    <div class="cardexplain">


        <ul class="round">
            <li class="addr">
                <a href="/weixin/map/map_address.html?type=hotel&id={{hotelInfo.id}}"><span>{{hotelInfo.address}}</span></a></li>
            <li class="tel"><a href="tel:{{hotelInfo.tel}}"><span>{{hotelInfo.tel}} 电话预订</span></a></li>
        </ul>
        <div class="detailcontent">
            <h2>商家介绍</h2>

            <div class="content">
                <span class="jieshao">{{hotelInfo.jieShao}}</span>
            </div>
        </div>
    </div>

</template>

<template id="view-room-template">


    <ul class="round">
        <li class="biaotou bradius pad">
            <table width="100%" border="0" cellspacing="0" cellpadding="0">
                <tr>
                    <td>类型</td>
                    <td class="yuanjia">原价</td>
                    <td class="youhuijia">优惠价</td>
                </tr>
            </table>
        </li>
        <li><span class="noneorder">
                <table class="jiagebiao" width="100%" border="0" cellspacing="0" cellpadding="0">
                    <tr>
                        <td>{{room.roomtype}}</td>
                        <td class="yuanjia">￥{{room.yuanjia}}</td>
                        <td class="youhuijia">￥{{room.xianjia}}</td>
                    </tr>
                </table>
            </span>
        </li>

    </ul>

    <!--后台可控制是否显示-->


    <div class="detailcontent">
        <h2 class="gpd-item-title">
            <img class="detailicon-ticket" src="../restaurant/images/info.png" />
            <span class="gpd-item-title-name">商品说明</span>
            <span class="gp-icons gpd-up-icon"></span>
        </h2>
        <div class="content  gpd-content">{{room.peitao}} </div>
    </div>

    <div class="detailcontent">
        <h2 class="gpd-item-title">
            <img class="detailicon-ticket" src="../restaurant/images/info.png" />
            <span class="gpd-item-title-name">使用须知</span>
            <span class="gp-icons gpd-up-icon"></span>

        </h2>

        <div class="content gpd-content">
            {{room.instruction}}

        </div>
    </div>


    <div class="detailcontent">
        <h2 class="gpd-item-title">
            <img class="detailicon-ticket" src="../restaurant/images/undo.png" />
            <span class="gpd-item-title-name">退单规则</span>
            <span class="gp-icons gpd-up-icon"></span>

        </h2>

        <div class="content gpd-content">

            {{room.refundRule}}
        </div>
    </div>


    <ul class="round">
        <li class="tel"><a href="tel: {{hotel.tel}}"><span>{{hotel.tel}} 电话预订</span></a></li>
    </ul>



    <input type="hidden" name="formhash" id="formhash" value="7de8fa52" />
    <input type="hidden" name="issub" id="issub" value="0" />

    <div class='alert alert-warning' role='alert'>
        <strong>提示</strong> 填写入住其中一人的真实信息即可。
    </div>
    <div class="footer-money">

        <p>
            <span class=" color-red">已优惠</span>
            <span id="price3" class="color-red discount-money">￥{{order.discount}}</span>
            <span>共</span>
            <span id="price" class="  total-money color-red">￥{{order.totalPrice}}</span>
            <span id="yuanjia" class="  cost-money">￥{{order.costPrice}}</span>

        </p>

    </div>


    <validator name="roomValidation">
        <form novalidate>

            <ul class="round">
                <li class="title mb"><span class="none">请认真填写在线订单</span></li>
                <li class="nob">
                    <table width="100%" border="0" cellspacing="0" cellpadding="0" class="kuang">
                        <tr>
                            <th>预订人</th>
                            <td>
                                <input name="oderName" type="text" class="px" id="oderName"
                                       v-validate:oderName="{
                      required: { rule: true, message: 'required you name !!' }
                        }" v-model="order.oderName"
                                       placeholder="请输入您的真实姓名" /></td>
                        </tr>
                    </table>
                </li>
                <li class="nob">
                    <table width="100%" border="0" cellspacing="0" cellpadding="0" class="kuang">
                        <tr>
                            <th>身份证号</th>
                            <td>
                                <input name="identityNumber" type="text" class="px"
                                       onblur="checkidcard()" required
                                       id="identityNumber" v-model="order.identityNumber"
                                       placeholder="请输入您的身份证号" /></td>
                        </tr>
                    </table>
                </li>
                <li class="nob">
                    <table width="100%" border="0" cellspacing="0" cellpadding="0" class="kuang">
                        <tr>
                            <th>联系电话</th>
                            <td>
                                <input name="tel" type="tel" class="px" id="tel"
                                       v-model="order.tel" required placeholder="请输入您的电话" /></td>
                        </tr>
                    </table>
                </li>
                <li class="nob">
                    <table width="100%" border="0" cellspacing="0" cellpadding="0" class="kuang">
                        <tr>
                            <th>入住时间</th>
                            <td>
                                <input name="arriveTime" class="px"
                                       id="arriveTime"
                                       v-model="order.arriveTime"
                                       type="date" placeholder="入住时间" />
                            </td>
                        </tr>
                    </table>
                </li>
                <li class="nob">
                    <table width="100%" border="0" cellspacing="0" cellpadding="0" class="kuang">
                        <tr>
                            <th>离店时间</th>
                            <td>
                                <input name="leaveTime" class="px" id="leaveTime"  v-model="order.leaveTime"
                                       type="date" placeholder="离店时间" />
                            </td>
                        </tr>
                    </table>
                </li>
                <li class="nob">
                    <table width="100%" border="0" cellspacing="0" cellpadding="0" class="kuang">
                        <tr>
                            <th>类型</th>
                            <td>
                                <input class="px" id="roomtype"
                                       v-model="room.roomtype"
                                       type="text" readonly="true" /></td>
                        </tr>
                    </table>
                </li>
                <li class="nob">
                    <table width="100%" border="0" cellspacing="0" cellpadding="0" class="kuang">
                        <tr>
                            <th>预订数量</th>
                            <td>
                                <select name="orderNum" class="dropdown-select" id="orderNum"  v-model="order.orderNum">
                                    <option value="1">1</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5">5</option>
                                    <option value="6">6</option>
                                    <option value="7">7</option>
                                    <option value="8">8</option>
                                    <option value="9">9</option>
                                    <option value="10">10</option>
                                    <option value="11">11</option>
                                    <option value="12">12</option>
                                    <option value="13">13</option>
                                    <option value="14">14</option>
                                    <option value="15">15</option>
                                    <option value="16">16</option>
                                    <option value="17">17</option>
                                    <option value="18">18</option>
                                    <option value="19">19</option>
                                    <option value="20">20</option>
                                </select></td>
                        </tr>
                    </table>
                </li>
                <li class="nob">
                    <table width="100%" border="0" cellspacing="0" cellpadding="0" class="kuang">
                        <tr>
                            <th>单价</th>
                            <td class="userinfo price">￥{{ room.roomtype}}</td>
                        </tr>
                    </table>
                </li>




                <li class="nob">
                    <table width="100%" border="0" cellspacing="0" cellpadding="0" class="kuang">
                        <tr>
                            <th valign="middle" class="thtop">备注</th>
                            <td>
                                <textarea name="remark" class="pxtextarea"
                                          style="height: 99px; overflow-y: visible"
                                          v-model="order.remark"
                                          id="remark" placeholder="请输入备注信息"></textarea></td>
                        </tr>
                    </table>
                </li>
            </ul>
            <div class="footReturn">
                <a id="showcard" class="submit">提交订单</a>


            </div>
            <!--<div class="weui_cells_title">表单</div>-->
            <!--<div class="weui_cells weui_cells_form">-->

                <!--<div class="weui_cell">-->
                    <!--<div class="weui_cell_hd"><label class="weui_label">预订人</label></div>-->
                    <!--<div class="weui_cell_bd weui_cell_primary">-->
                        <!--<input class="weui_input" name="oderName" type="text" placeholder="请输入您的真实姓名">-->
                    <!--</div>-->
                <!--</div>-->
                <!--<div class="weui_cell">-->
                    <!--<div class="weui_cell_hd"><label class="weui_label">身份证号</label></div>-->
                    <!--<div class="weui_cell_bd weui_cell_primary">-->
                        <!--<input class="weui_input" name="identityNumber" type="text" placeholder="请输入您的身份证号">-->
                    <!--</div>-->

                <!--</div>-->
                <!--<div class="weui_cell">-->
                    <!--<div class="weui_cell_hd"><label class="weui_label">联系电话</label></div>-->
                    <!--<div class="weui_cell_bd weui_cell_primary">-->
                        <!--<input class="weui_input" name="oderName" type="tel" placeholder="请输入您的电话">-->
                    <!--</div>-->
                <!--</div>-->

             <!-- -->

                <!--<div class="weui_cell">-->
                    <!--<div class="weui_cell_hd"><label class="weui_label">入住时间</label></div>-->
                    <!--<div class="weui_cell_bd weui_cell_primary">-->
                        <!--<input class="weui_input" name="arriveTime" type="date" placeholder="请输入您的入住时间">-->
                    <!--</div>-->
                <!--</div>-->

                <!--<div class="weui_cell">-->
                    <!--<div class="weui_cell_hd"><label class="weui_label">离店时间</label></div>-->
                    <!--<div class="weui_cell_bd weui_cell_primary">-->
                        <!--<input class="weui_input" name="leaveTime" type="date" placeholder="请输入您的离店时间">-->
                    <!--</div>-->
                <!--</div>-->

                <!--<div class="weui_cell">-->
                    <!--<div class="weui_cell_hd"><label class="weui_label">类型</label></div>-->
                    <!--<div class="weui_cell_bd weui_cell_primary">-->
                      <!--<p> {{roomtype}}</p>-->
                    <!--</div>-->
                <!--</div>-->

                <!--<div class="weui_cell weui_cell_select weui_select_after">-->
                    <!--<div class="weui_cell_hd">-->
                        <!--预订数量-->
                    <!--</div>-->
                    <!--<div class="weui_cell_bd weui_cell_primary">-->
                        <!--<select class="weui_select" name="orderNum">-->
                            <!--<option value="1">1</option>-->
                            <!--<option value="2">2</option>-->
                            <!--<option value="3">3</option>-->
                            <!--<option value="4">4</option>-->
                            <!--<option value="5">5</option>-->
                            <!--<option value="6">6</option>-->
                            <!--<option value="7">7</option>-->
                            <!--<option value="8">8</option>-->
                            <!--<option value="9">9</option>-->
                            <!--<option value="10">10</option>-->
                            <!--<option value="11">11</option>-->
                            <!--<option value="12">12</option>-->
                            <!--<option value="13">13</option>-->
                            <!--<option value="14">14</option>-->
                            <!--<option value="15">15</option>-->
                            <!--<option value="16">16</option>-->
                            <!--<option value="17">17</option>-->
                            <!--<option value="18">18</option>-->
                            <!--<option value="19">19</option>-->
                            <!--<option value="20">20</option>-->
                        <!--</select>-->
                    <!--</div>-->
                <!--</div>-->
                <!--<div class="weui_cell">-->
                    <!--<div class="weui_cell_hd"><label class="weui_label">单价</label></div>-->
                    <!--<div class="weui_cell_bd weui_cell_primary">-->
                        <!--<p> ￥{{xianjia}}</p>-->
                    <!--</div>-->
                <!--</div>-->
                <!--<div class="weui_cell">-->
                    <!--<div class="weui_cell_hd"><label class="weui_label">备注</label></div>-->
                    <!--<div class="weui_cell_bd weui_cell_primary">-->
                        <!--<textarea class="weui_textarea" placeholder="请输入备注" rows="3"></textarea>-->
                        <!--<div class="weui_textarea_counter"><span>0</span>/200</div>-->
                    <!--</div>-->
                <!--</div>-->

            <!--</div>-->

            <!--<div class="weui_btn_area">-->
                <!--<a class="weui_btn weui_btn_primary" href="javascript:">提交订单</a>-->
            <!--</div>-->



        </form>
    </validator>
</template>

<template id="view-order-template">


    <div class="cardexplain">

        <!--超过预订时间3天后自动删掉预订记录，免得占服务器资源！-->
        <ul class="round" v-for="order in orders">
            <li class="title"><a
                    href="#"><span>2015/12/16 15:54:30 kfc</span></a>
            </li>
            <table width="100%" border="0" cellpadding="0" cellspacing="0" class="cpbiaoge">
                <tbody>
                <tr>
                    <th>订单编号</th>
                    <th width="70" class="cc">订单金额</th>
                    <th width="60" class="cc">订单状态</th>
                </tr>
                <tr>
                    <td>{{order.firstName}}</td>
                    <td class="cc">{{order.lastName}}</td>
                    <td class="cc"><em class="ok">{{order.email}}</em></td>
                </tr>
                </tbody>
            </table>
        </ul>
    </div>
</template>

<template id="view-image-template">
    <style>
        .header-img {
            width: 100%;
        }

        .swiper-container {
            width: 100%;
            height: 200px;
        }
    </style>

    <div class="swiper-container">
        <div class="swiper-wrapper">
            {{viewImages.length}}
            <div class="swiper-slide" v-for="imgData in viewImages">

                <img class="header-img" :src="imgData.img">
            </div>
        </div>
    </div>
    <!-- 如果需要分页器 -->
    <div class="swiper-pagination"></div>

    <!-- 如果需要导航按钮 -->
    <div class="swiper-button-prev"></div>
    <div class="swiper-button-next"></div>

    <!-- 如果需要滚动条 -->
    <div class="swiper-scrollbar"></div>


</template>

<script type='text/javascript' src='//g.alicdn.com/sj/lib/zepto/zepto.min.js' charset='utf-8'></script>
<script type='text/javascript' src='//g.alicdn.com/msui/sm/0.5.8/js/sm.min.js' charset='utf-8'></script>
<script src="../../Common/JS/vue/vue.min.js"></script>
<!--<script src="https://cdn.jsdelivr.net/vue.router/0.5.2/vue-router.min.js"></script>-->
<script src="../../Common/JS/vue/vue-resource.min.js"></script>
<script src="https://cdn.jsdelivr.net/vue.validator/2.0.0-alpha.8/vue-validator.min.js"></script>

<script src="../../Common/web_component/swiper/swiper.min.js"></script>
<script>
    //根据QueryString参数名称获取值

    function getQueryStringByName(name) {

        var result = location.search.match(new RegExp("[\?\&]" + name + "=([^\&]+)", "i"));

        if (result == null || result.length < 1) {

            return "";

        }

        return result[1];

    }
</script>
<script src="JS/index/v-index-appFooter.js"></script>
<script src="JS/index/v-index-viewAbout.js"></script>
<script src="JS/index/v-index-viewOrder.js"></script>
<script src="JS/index/v-index-viewRoom.js"></script>
<script src="JS/index/main.js"></script>

</body>
</html>